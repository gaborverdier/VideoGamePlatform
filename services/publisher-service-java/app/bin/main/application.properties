# Configuration Spring Boot pour Publisher Service
spring.application.name=publisher-service

# ===== Configuration Serveur =====
server.port=8082

# ===== Configuration Spring =====
# Permet les references circulaires entre beans (necessaire pour les producers Kafka)
spring.main.allow-circular-references=true

# ===== Configuration Base de Donnees =====
# PostgreSQL dans Docker (docker-compose)
spring.datasource.url=jdbc:postgresql://localhost:5432/videogames_db
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=videogames_user
spring.datasource.password=secretpassword

# Configuration JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===== Configuration Kafka =====
# Bootstrap servers (depuis docker-compose)
kafka.bootstrap.servers=localhost:9092

# Schema Registry (depuis docker-compose)
kafka.schema.registry.url=http://localhost:8081

# Topics Kafka (Production)
kafka.topic.game-patched=game-patched
kafka.topic.game-metadata-updated=game-metadata-updated

# Topics Kafka (Consommation)
kafka.topic.game-crash-reported=game-crash-reported
kafka.topic.game-rating-aggregated=game-rating-aggregated

# Consumer Group
kafka.consumer.group-id=publisher-service-group

# ===== Configuration Publisher =====
# Nom de l'editeur (peut etre personnalise)
publisher.name=Activision
# Seuil de crashs avant alerte
publisher.crash-threshold=10
# Chemin vers le fichier VGSales CSV
publisher.vgsales.path=./data/vgsales.csv
# Activer le chargement automatique au demarrage
publisher.vgsales.auto-load=true

# ===== Configuration Actuator (Monitoring) =====
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always



